#define BLOCK_HEIGHT 4
#define BLOCK_WIDTH 4

#define FIELD_HEIGHT 24
#define FIELD_WIDTH 32

#define BLOCK_PATTERN 7

int block[BLOCK_HEIGHT][BLOCK_WIDTH];
int turn_block[BLOCK_HEIGHT][BLOCK_WIDTH];
int stage[FIELD_HEIGHT][FIELD_WIDTH];
int field[FIELD_HEIGHT][FIELD_WIDTH];

int blocks[BLOCK_HEIGHT * BLOCK_PATTERN][BLOCK_WIDTH * 4] = {
  {0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0},
  {0,1,0,0,1,1,1,1,0,1,0,0,1,1,1,1},
  {0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0},
  {0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0},

  {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
  {0,1,1,0,0,1,1,0,0,1,1,0,0,1,1,0},
  {0,1,1,0,0,1,1,0,0,1,1,0,0,1,1,0},
  {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
  
  {0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0},
  {0,1,1,0,0,1,1,0,0,0,1,1,0,1,0,0},
  {1,1,0,0,0,0,1,0,0,1,1,0,0,1,1,0},
  {0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0},

  {0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0},
  {1,1,0,0,0,1,1,0,0,1,1,0,0,0,1,0},
  {0,1,1,0,0,1,0,0,0,0,1,1,0,1,1,0},
  {0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0},

  {0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0},
  {0,1,1,0,0,0,1,0,0,1,0,0,0,1,1,1},
  {0,0,1,0,1,1,1,0,0,1,1,0,0,1,0,0},
  {0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0},

  {0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0},
  {0,1,1,0,1,1,1,0,0,0,1,0,0,1,0,0},
  {0,1,0,0,0,0,1,0,0,1,1,0,0,1,1,1},
  {0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0},

  {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
  {0,1,0,0,0,0,0,0,0,1,0,0,0,1,0,0},
  {0,1,1,0,1,1,1,0,1,1,0,0,1,1,1,0},
  {0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0}
};

int clear_line_point[FIELD_HEIGHT - 4];

int block_x;
int block_y;
bool collision_flag;
bool gameover_flag;
bool make_block_flag;
bool clear_flag;
int block_id;
int clear_count;
int turn_point;

int i, j, x, y;